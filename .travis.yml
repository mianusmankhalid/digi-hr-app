language: android
sudo: false
before_install:
- nvm install 6
- node --version
- curl -o- -L https://yarnpkg.com/install.sh | bash -s -- --version 1.3.2
- export PATH=$HOME/.yarn/bin:$PATH
- gem install fastlane
cache:
  yarn: true
install:
- yarn install
jdk:
- oraclejdk8
android:
  components:
  - build-tools-26.0.2
  - android-26
  - android-23
  - extra-android-m2repository
  - extra-google-google_play_services
  - extra-google-m2repository
  - addon-google_apis-google-23
  - tools
  - platform-tools
  - extra
  licenses:
  - android-sdk-license-.+
before_script:
  - export TZ=Asia/Kuala_Lumpur
  - openssl aes-256-cbc -k $KEYSTORE_ENCRYPTION_PASSWORD -in fastlane/Certificates/distribution.keystore.enc
    -d -a -out fastlane/Certificates/distribution.keystore
  - git config --global user.email "tag.release@digi.com"
  - git config --global user.name "aajiwani"
  - git config credential.helper "store --file=.git/credentials"
  - echo "https://${GH_TOKEN}:@github.com" > .git/credentials
script:
- ". ./fastlane/travis.sh"
deploy:
  skip_cleanup: true
  provider: releases
  api_key:
    secure: AWUPMduGfPTpT4m3sZCwiEb2R/OBL/F0x+FYOyLcaktGi9WJerINxuSB1QLhZzvKU9u6mzryhRR5AmYitrJDw+dv3kUUq7zPJA+CBnBjpYMMwk+WHyS18h7Gk+gXBUiOG2oGksWY9Smq4TgT1SOtt0wlshw4768h3TGvNzLuJk31ujeKFO6hJqiGp2uMWJDwUjWxf8l/CuO1QSPMWCoJhS3NW4Buu6gZ/sSXOyBzv/nso2aBpqfWMTwZw2TBBtylG8Zu3gOvARsprwNSjd+phQYt55gliX6vb6QupIXhelhUOCEyQZYmut/mYd5Li0TMFPR8dLnomhEMN7Qi1KGI5ieztHXmyW4kGAMrUk+oA1cYm9CWtf/iCGNfV/Pumpejc7oGlHfI4O9KAVQOjWy2ntnV8C7Zko7mN6DnGEn3DtdSQiliXjurrhRfa46Eb7+qlOCuMS8ZUldVSuO/WVo26RbxMIwRLaf6lxDm3gmmJAAYGtq6zpxYDhTDEoezWknWXx5PCjSmR7XrY4hB5X7lKOsBaAJRVDumzjhFrGVwnP7v6jKcPGOrCR2C2q4wXMP0dlB1vrRLuAxV7rMiXLhFuzUAj7A5oR1tp5iBoAMEZ/8fm8SzzYvvnUbfWFb+wpVa1bUIO32FvsO4HdzbXuhIziVIZ7c9rSlY1ni/6lCgTJo=
  file: "$TRAVIS_BUILD_DIR/android/app/build/outputs/apk/release/DigiHrApp-release.apk"
  on:
    repo: aajiwani/digi-hr-app
    tags: true
env:
  global:
  - secure: SG9osfzXoQhsgYvqyaZGD6TzO2YuUYjA4mb6RgoeigBKKvBZvLz3wgoOzwhVpRnbl++J5/1Lj19judYeAcrqLaunkfKvCRL+RRqbSEaGktrPatS30WdxSVJYp+4nMQuVIW2QUTC6ntvzHXxrOoprXkr41IMDUIVsr8KBBLBBFlWUMejdW6yPypA/pnYUVoOB8nVFYlxvXADuOsZdojlVbsUei3nfyu4/F/s8I+z7fHMptR+MqbxUzF4vFGjsI5Z3ykSjtGAQcostb1hSKzwTNZDrqb7Oqduz2DLGw35PHTmAy8ooQ1ZTHmZ32C7XnbzhxVqOeON1vhk0dMv5mYlV10oa51oHpR/GQrGop/vDnx5/bbXz3QtDecPTdKmHeR4rqjyoqiPVwJipB6EDGu6Vu0g1eWhmulPwpKkJwCeYuXleoQu8US5CpRnPn5TGpKmFLLTxiaOnSr3eKjGcdNVBO9nowtk148Uo+Nck2HCvPFUL5UB5nA6SDmNi8AYqGe0jFPXuhng/zBnQoCJ7VJCs7skSBBLogYrgUnT27mCUmdj3Up6DaLzFvdFsICX3b3k9tcoY2OkE+2ps2TwEkBdiadPQ8FIDSz1K5IN/55W6vvQW2k4Fs1TX2MOh3wAuz8tPVTtMSOQwgY2qiWhBiuz8LVR78ZwA+2/C+voft96erMc=
  - secure: MjdZIFi5FimcU3Mi1iosriqrfOEqE8i6Y2I+oaDDWS0fjajr/NVDCO2PPy0o5mKbCmnhoAqk3DjmNzMkgDMy8XX/IrpNcoS+8sNkD4Z1yXv+26tER3Hf3dPjvZ2uXZI+eraiYUFn7AvVDiCt3PnaYhCp0Zk/Nr6XweB9LrWvQKj88sI3+ygwhyrg/6XzFp0149QodpVkdUWfxuAf00cDia0+rDlfZ4qLtLHWJffN7Dtfb++8W3gYdsBlqKEXX9ho7LJlYGdZ+IJpU71q1M8bSJkArA6SmAHS76Xgsn60U+0uLnX3zTLAXsNpNbP5wIIHAXClh7RfAJbWEa5AZoN2ycknPDTLN7jUP9jkWp/mw4Ym8tq/JF6Ji5QlN3urplCmqgtSeQKXQb5bEIeLZx2er+QFgsby+kW8DC+3JTgbme7BrY0G97h183x08JaPbdsGoR0whwv6q356jC/vYLe8YCJZps/gRm6jnaMv6U89qYRbG+YCoaoARHxNF2p7XCBOlmAV40Ysg5GEku+63cFfuRDL4qDhQ46+pqs+4L2UHGwhbY0/2pacNdajdIZId/O30b/CbdWbXWidBYGP+eQ1AvPrU6GIksVBMwN4AB25bnOvpT9kzWuYGsxcJklImX8LRZJ6AdobDe2zTqjUrT6OsDb0uSMyiybLSq2FcorPMvo=
  - secure: SUfebuu+KBwSA6c7N0igJ+MkF83hFH1bkb5jxTFK3EdH8YBDSbw58KwGU8kFLybXMwEwQql57ql7ih/MC+L70F/cNDnUfTRLkqkeYppYfGAZoAD8eQYg/wPJPKJkusuv+fbaS3O0L57nu8aRulM+FzQ6BA25xkCoM9vi8aBnbfndBXSuVBxU4ALjc3jNhTB9u2RTfKO6YRHbNdUFpgKtwmH9OcdREgJC+KeHgHNqJZ7WjCPIJ64ej/x2i/akFKPD4eyBo+GnEo8LvyvFykIpI3uy5QowDPnqXeaz/g23yIQP5X9lRYnq+ShgWirlk24RiEulHPAeQYlATP3XaQrTVCY0srjo9qUuyUNl6OzYrcH4qYy+13mFDWzQLM4SKAMGNwzZfC78wFQYKs5+xbYWVUuJWnshWEAocZ8JbtJ4Tn6XmdGh7np9QpnEdyR9P79bSs0HQFyHAOUkTaRQh3DnycQyaBtb83uUtWWL4BfF7Z36/TasRlQifBNLxkOh2Jv1qtPiyaCTk4g5h8PFDUHOijy/4aQa3nKdY4eQ42yXxEh+g/0vGT/vgFGyghOVGqUmoXgep+SiKtG6wBf97BPMlEmCkEBDtR6lo9nGAg02Zlx5C7QG5orHIMdtm1PaavjtddwDf4vBL0nnl1wRxreI2vUwgTc8h+/D9NrYMK8v91M=
  - secure: M/rS6jLT/bCrN/JN8I1gewVpuGCoVgYRGvMnww2KsWBmoq6nevzfc+EzuXtEvZn5dBPBuRCgtszzdVvaa5O8KFys1SOFbylvUCZEtydpOiK3iS6MTqgMm4kqtVHSOoW0m06y9uPmGTmyp7sZDyNrzXXaCEkl0G5EyXZmVhs1mcFBmOBo0k+1/eeZ04nT42u2vCstMHkz3GPaipxSCT1jUvs1dZRW+DcaLCkmBlUvv9tS/Zboobu/N/uynx37QBB6Wc730P/I0z1M145ebAYKLvuLCi0MZHMYYFj8C4u37ExgzNvAKPto8xS+1Na/vwDwPFa+GgnmYJyvFmBIcQoXNLcKnfyULWCap1BLyKRYfqoi6vsCIdgWTojPaWMc4142/i7i/9XspJ8sLXkSV9Hb2jPg2gQd/246S3zxNUC3O9QvnYCxUrD1NkL+WQoGWUQAkJoB1wPKE9tY/B4Rl3AqV9H1959a2FOmm8XAFfWV+T24+IbC1qKSmaYsCv2/pqYeS24OHdJOKWnPg7qxTDlvrmCV4TZV8D7n7Q1rUqv4kRyDIpfHqzmilC1pnu4lX/BHI03cQB6RrLkHP3+ihPqWJUDE0DY+o9WdCgmr8ENyogtg7JSxZoSiHFqBe1OJcKnC5scQ3ryF23JhlhpTauc8q28xN9SvUee9/9VCb3MpUG4=
  - secure: BjcX5nVrmBizye4sIvUvv+dTmS0AJNhBGIjBqQtB2aS99CdS6XaRAN0T44B6yd7YhJqUZtPkB0fY3dPU/k2rV5d4eyhq7R2L0d71PmrgFR1kaYGZXtYyJc81gVhGXs0h780wsFLyf+P6E+fnyT6qCxT3HRrnYc1vYcD/kdaERi+BtOPJm4KJp+syzIOnIoi3Vh4YczQm80jrgLENTW8A1JGZ4k8FJMlao3p130V0KgZ85CgGJyHy7r1yBjX81BGm9z6Qgj+bvz90PnPMcc9LSDQCgn7e80qlXxWl1d/ZFmGF+19s7S2RUaO27cg7vMqnIlwBh7/jd1k+S5ILz4SyXuMPYRqtLE6MiEqSL4gnPWeBmdjvdE5r+cy+A1IFLUhyZcFlXLVfGT1HRSDZPheOc2arGw/+eyRjq2gaUqYYbeuMQv7voRXgEYi27dTz5APNmDXQKofjB90vl11BCP0W2XaTvHgGz3CEzdCTXOtNbkGA9ORc+bbbIEvdJZe+8zq97FF4wFoyO0SccXciVidIBO9CdzNjigXsYnWZM9XSM1aNMpD94DQuqrTWrOCsvFl/+jQUM5bXbX/TSejrjWU3K1ENcdHorQHWlPh4dppq7G9uDMWviL5SI3FLmhdOi2p+pEqBzydmx8jj8pDmBLl0tRzi+GoFqLnXM3XggVH0YpI=
  - secure: E1bvb0A0gQDhgSs3SDjdi8lgZ0NuZYQKGCLSTzvhoW6qbFSOqV2M0tXmDGbu25Y7TF83dS7Az2Wien7n5vNdB+apaBbsmZGTb1X/qBm6bwM9VZyNsG1SOwciLHNyc4gmjpiLh+EwHvdMhsqVJmSsz2N27znUHZh7RL2MfA9VD7G8IHjAlMN5BHU3h/TZrjmp4pfzsnvsnpMxOz3XMQrOokyS9M5KxXHvOqnGhtG8pqrB5DU7g9CzlQTi0e0vvxqydPn4yW0Ccg7nPCq7nfIV2cHj8bJcIRBtEB3MGnrjL+njesTaLuTcFv6OFKGUxQfLtMw6Tf/SVGmFb8ZPwzbaRagK4WZ6iZhxYET/TJ43/R02TPyfcfXN0mYVOKDDSqCQYy/2ZOuzIIsjWa1R9VIZEktuWlA3uMLX6hYPWcAsxr7B+aN+YT619VTVprzeeUywICZ2esB1/NOUJ1J55qjHL6stFt4jvbaDivTEDbjf2ukb1kvtnSAaHxf2o/U5rVK+OfVeOIDki2ta85fUahrXBVH9JOETGAePfilq2QGK6msDBFbPPMEKnkMZGUNNj1esFMxwRD4QvkqQqLYVJdqzG18R7e9lGhh0cAV/cPI3er1qulZdUXMQLipNOasgFRHtYdJuoF+nhZq/MJ/t6gI5wZoDxR/8ti4dbT7hHS4Tlfc=
  - secure: c+bG4K+OJYOgDa8gUmUaUCtMfd6Y/bdQWgAvzDrIc2q0Y6isb7tWtIvweyojCb4piFAbVe/nhlusN6gOzH8HJXjYi0hehCzSKl30hZbAwmsBSluz/Z2JzJBv+NsMkuBAW805gniDAJeo8FOC2pldf2F/y1qefKta//NC6nqJA5hWjbJNOkfIjSnQRJGm4jwMwtJk0VjRDUYlf7kxDOsATJ7R/QzR76+Xyjoar4IJK2ADjtYskMmSkLlhCza0550OKEilce5WkRFH7XOG4Hxj/LCVNrTpHGdKh+TKDOOXV21hfbzWXO8FYtGDOwa5MWfSpynGaQ+eMrrKNwAARRCwTOWaRkuUdQq0tsVPQXjl7PQVYPckQEsy9RAETEtgH44gZOFLEEGUIh41Cs9KSrNAO9F3NNwltzGEm6POnt0zFIwbVcGuYP97CWN0cZnM/i65RLVmVo3h2OXcxA7wk/LTwKSq8ydPjH3lVNWEuxXYswTTlXWeWDiPihP4G7NbaLAhuvVxXfZhWPs417oH8EETkzotqBGEX22sOqdNaEv6EN/+T+lSKoybQbB5vnc06crpq1Fk8SnI5/sWIc/hM/3fahQnToGTn1hajfA6+/1zZtxz/6+Nmw5P7iTfA5OypF747QFOJXZ87AGEz7F5Q+DiwG2SFxWgavn2cAzHcwPv9yI=
  - secure: Qfnvhqnq3jauvZy1EALe2ctm6GAfRdMHd0bnl5m8mXqysU8lbve+RmSAZMlRGQ6VT2FMdtxeCmeFxMK8FJmybnGtZAnwnFjSczLIbiDQqo2Ol7A5zFjsrnVwaPRwUMWhXPuVWYpnGvg+AaHnb1x1S5izHB8xA9XjuRQOKu7XDKfNZrfjKzS+DOhQKczamwgR9RbfBPg2+M4oU2W1OvirrFmAq7ssbBVYWqVKvJOpCCQu53RDPH+V8xTVww+nAaLWmg9+3PWVafrCP+K4VuopzKjG2+1nHmeDckRzxX7LvoAdQfSOqQF4YvpqIdHwXthboIqZa1SIseTGmUqFY8O2nyO4SZUS0t2hTGtroOfs/vc3STKNQFpJ4NAOPTC9jkd7/0aBUQy11CVnLb4vruNkFDeuJTExHqxumR4lsjGu3Rn00Dzo07HrQPZcz3dIXWDSvfaFWXUnE1KJEOE7PcPHxhbZGIRrVNLm10vWirhPNK9NqVBduF5QfCEFL7+PLy7tUzYjVdJp829ji3n+F4lzcu5KkwcH9L+LRr7bD/aCJG/KCe0xdSVk83dfDnpPlK06ToQr1LElo4TzUZqd8PousrketuFw/yML4UeTMbg8MaQUoGK0BE3VlZMBk6RTzcMeC/I2ibLWsh4IbNPpzdjXPEx2I7S7SBVYQ+j/AlZyhyM=
  - secure: CuJaJjl71D6uTJ/W6SyksdaIv9D20PGdfkRPm85SoXOGaWd/Kp30OIROypNSxZYvMqfO4wPtnUF8hgxEJHbKS8qvB0RULMMmfYRi+KslZHp2hqzYP+4VFRKjFUkJuO9mq3hS0e5H2FUCLnT7/Wp2FnQ+yhexGXXajzvisxsJSXSsrxpn54od5hG5RqdDDcRPxmzaF5vCCN0eIJBHEpYVSOhz0HsBam8BdjaKzFB0RMYY/7kXmH72VcLT8IEjqn7IGWlUOVDn7rLDT0dM6P93AnFfpvjE+LhEjqAwKXR6mHJWehe55+RbTnKzSLorTOoi9gUS1+s8mtz837KNXFIhsxlmbR/36OQFHi7iby6HP0IJHEEbc4VnEDBqA4OzAK/Bu5h3QlkvQLSKFR6AX/c3wUoKH6XDyk0x8Is2cJwjxpmhpUlJ9db9iUFuBejorS/sLogwxuefTeY6itBC9cd8dt+I8hqnvDYu2FF4/BDSHWKAaZSUi/oZk/ZEP0u2pyOX+YB4ig9qqkwpUEkIb5S4WFdRmqvRS178W56khkBh0p8kl50H/Idf4kD4Pw+j1pBzQEnj1FGcexeR7qIln6cIUoXjl9BEE4JGJLfkwi00mIuMPwIpC/fScw8hJ8JU3nWDhO1BIrHfHFyyiU80nd/6wn/WGREq4rDP+awuU+pkIQk=
